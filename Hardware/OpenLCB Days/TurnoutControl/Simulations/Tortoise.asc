Version 4
SHEET 1 2824 2148
WIRE 336 -464 -1472 -464
WIRE 896 -448 752 -448
WIRE 896 -432 896 -448
WIRE 336 -400 336 -464
WIRE 752 -352 752 -448
WIRE 896 -352 800 -352
WIRE 896 -320 896 -352
WIRE 736 -304 672 -304
WIRE 864 -304 816 -304
WIRE -2976 -288 -3296 -288
WIRE -2800 -288 -2976 -288
WIRE -2688 -288 -2800 -288
WIRE -2464 -288 -2608 -288
WIRE -2352 -288 -2464 -288
WIRE -2048 -288 -2352 -288
WIRE -1120 -288 -2048 -288
WIRE -544 -288 -1120 -288
WIRE 672 -288 672 -304
WIRE 672 -288 -544 -288
WIRE -2976 -256 -2976 -288
WIRE -2800 -224 -2800 -288
WIRE 672 -224 672 -288
WIRE -1904 -176 -2144 -176
WIRE -1616 -176 -1824 -176
WIRE -1024 -176 -1616 -176
WIRE -928 -176 -1024 -176
WIRE -688 -176 -928 -176
WIRE -2976 -144 -2976 -176
WIRE -2976 -144 -3072 -144
WIRE -3072 -112 -3072 -144
WIRE -1024 -112 -1024 -176
WIRE -2976 -96 -2976 -144
WIRE -2352 -80 -2352 -288
WIRE -1104 -80 -1424 -80
WIRE 480 -80 -1104 -80
WIRE 672 -80 672 -144
WIRE 672 -80 480 -80
WIRE 736 -80 672 -80
WIRE 336 -16 336 -320
WIRE 336 -16 -16 -16
WIRE -2976 16 -2976 -16
WIRE -2976 16 -3168 16
WIRE -2800 16 -2800 -144
WIRE -2800 16 -2976 16
WIRE -2656 16 -2800 16
WIRE -928 16 -928 -176
WIRE -2352 48 -2352 -16
WIRE -2144 48 -2144 -176
WIRE -2144 48 -2352 48
WIRE -1024 64 -1024 -32
WIRE -1024 64 -1040 64
WIRE -992 64 -1024 64
WIRE -544 64 -544 -288
WIRE -3296 80 -3296 -288
WIRE -3168 80 -3168 16
WIRE -1264 80 -1328 80
WIRE -1040 80 -1040 64
WIRE -1040 80 -1072 80
WIRE -688 80 -688 -176
WIRE -608 80 -688 80
WIRE 480 80 480 -80
WIRE -2352 96 -2352 48
WIRE -256 96 -352 96
WIRE -16 96 -16 -16
WIRE -16 96 -64 96
WIRE 240 96 64 96
WIRE 288 96 240 96
WIRE 416 96 288 96
WIRE 240 112 240 96
WIRE -2896 144 -3040 144
WIRE -2464 144 -2464 -288
WIRE -608 144 -608 80
WIRE -592 144 -608 144
WIRE 416 160 416 96
WIRE 432 160 416 160
WIRE -2896 176 -2896 144
WIRE -1264 176 -1280 176
WIRE -976 176 -1072 176
WIRE -928 176 -928 112
WIRE -928 176 -976 176
WIRE -544 176 -544 160
WIRE -544 176 -928 176
WIRE -544 192 -544 176
WIRE -256 192 -272 192
WIRE 48 192 -64 192
WIRE 64 192 64 96
WIRE 64 192 48 192
WIRE 240 192 240 176
WIRE 288 192 288 176
WIRE 288 192 240 192
WIRE 480 192 480 176
WIRE 480 192 288 192
WIRE -608 208 -608 144
WIRE -592 208 -608 208
WIRE 480 208 480 192
WIRE -1328 224 -1328 80
WIRE 416 224 416 160
WIRE 432 224 416 224
WIRE -352 240 -352 96
WIRE -3168 256 -3168 144
WIRE -3120 256 -3168 256
WIRE -2896 272 -2896 256
WIRE -2816 272 -2896 272
WIRE -3296 288 -3296 144
WIRE -3120 288 -3120 256
WIRE -3120 288 -3296 288
WIRE -3040 288 -3040 144
WIRE -3040 288 -3120 288
WIRE -2464 288 -2464 208
WIRE -1840 288 -2464 288
WIRE -1568 288 -1760 288
WIRE -1472 288 -1472 -464
WIRE -1472 288 -1568 288
WIRE -2896 304 -2896 272
WIRE -1280 304 -1280 176
WIRE -1280 304 -1328 304
WIRE -976 304 -976 176
WIRE -976 304 -1152 304
WIRE -2816 320 -2816 272
WIRE -288 320 -352 320
WIRE -272 320 -272 192
WIRE -272 320 -288 320
WIRE -2464 368 -2464 288
WIRE -1328 368 -1328 304
WIRE -288 368 -288 320
WIRE 48 368 48 192
WIRE -544 384 -544 288
WIRE 480 384 480 304
WIRE -2896 400 -2896 368
WIRE -2816 400 -2816 384
WIRE -2816 400 -2896 400
WIRE -2896 432 -2896 400
WIRE -1152 480 -1152 304
WIRE -2656 592 -2656 16
WIRE -2464 592 -2464 432
WIRE -2464 592 -2656 592
WIRE -2352 592 -2352 160
WIRE -2352 592 -2464 592
WIRE -2240 592 -2352 592
WIRE -1424 592 -1424 -80
WIRE -1424 592 -2240 592
WIRE -544 592 -544 464
WIRE 480 592 480 464
WIRE 480 592 -544 592
WIRE -2048 720 -2048 -288
WIRE -1152 720 -1152 560
WIRE -1152 720 -2048 720
WIRE -2928 800 -3136 800
WIRE -2240 800 -2240 592
WIRE 48 800 48 448
WIRE 48 800 -2240 800
WIRE -2928 816 -2928 800
WIRE -2800 816 -2928 816
WIRE -2544 816 -2720 816
WIRE -3136 848 -3136 800
WIRE -2544 848 -2544 816
WIRE -2944 1024 -3152 1024
WIRE -2944 1040 -2944 1024
WIRE -2816 1040 -2944 1040
WIRE -2560 1040 -2736 1040
WIRE -3152 1072 -3152 1024
WIRE -2560 1072 -2560 1040
WIRE -544 1248 -544 592
WIRE -544 1376 -544 1328
WIRE 864 1376 864 -304
WIRE 864 1376 -544 1376
FLAG -3072 -112 0
FLAG 896 -320 0
FLAG -1616 -176 N-BootstrapV
FLAG -1568 288 S-BootstrapV
FLAG -1120 -288 N-Rail
FLAG -1104 -80 S-Rail
FLAG -288 368 0
FLAG -1328 368 0
FLAG -2896 432 0
FLAG -2544 912 0
FLAG -3136 928 0
FLAG -2560 1136 0
FLAG -3152 1152 0
SYMBOL nmos -592 64 R0
SYMATTR InstName M1
SYMATTR Value Si7850DP
SYMBOL nmos 432 80 R0
SYMATTR InstName M2
SYMATTR Value Si7850DP
SYMBOL nmos -592 288 M180
SYMATTR InstName M3
SYMATTR Value Si7850DP
SYMBOL nmos 432 304 M180
SYMATTR InstName M4
SYMATTR Value Si7850DP
SYMBOL voltage -2800 -240 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value PULSE(-12 12 0 1u 1u 58u 116u)
SYMBOL res 656 -240 R0
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL res -2992 -272 R0
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL res -2992 -112 R0
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL voltage 896 -448 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value PULSE(-1 1 100m 1u 1u 10 20)
SYMBOL sw 832 -304 R90
SYMATTR InstName S2
SYMBOL res -2592 -304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1m
SYMBOL res 272 80 R0
SYMATTR InstName R8
SYMATTR Value 20k
SYMBOL zener 256 176 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -12 -35 Left 2
SYMATTR InstName D11
SYMATTR Value BZX84C15L
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -1744 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 10k
SYMBOL current -352 320 R180
WINDOW 0 24 80 Left 2
WINDOW 3 24 0 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I1
SYMATTR Value PULSE(0 10m 0 10n 10n 5m 10m)
SYMBOL voltage 336 -416 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 0
SYMBOL Optos\\PC817A -160 144 R0
SYMATTR InstName U1
SYMBOL res -560 1232 R0
SYMATTR InstName R28
SYMATTR Value 1m
SYMBOL current -1328 304 R180
WINDOW 0 24 80 Left 2
WINDOW 3 24 0 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I2
SYMATTR Value 10m
SYMBOL Optos\\PC817A -1168 128 R0
SYMATTR InstName U2
SYMBOL voltage -544 368 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 0
SYMBOL voltage 480 368 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value 0
SYMBOL cap -2480 368 R0
SYMATTR InstName C2
SYMATTR Value 10µ
SYMBOL diode -2480 144 R0
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL cap -2368 -80 R0
SYMATTR InstName C4
SYMATTR Value 10µ
SYMBOL diode -2336 160 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL res -1808 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 100k
SYMBOL zener -2880 368 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value BZX84C6V2L
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -2912 160 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL diode -3312 80 R0
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode -3184 80 R0
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL cap -2832 320 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL voltage -3136 832 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=60m
SYMATTR InstName V6
SYMATTR Value PULSE(0 3.2 0 10n 10n 30u 100u)
SYMBOL res -2704 800 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL cap -2560 848 R0
SYMATTR InstName C3
SYMATTR Value 100n
SYMBOL voltage -3152 1056 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=60m
SYMATTR InstName V7
SYMATTR Value PULSE(0 3.2 0 10n 10n 70u 100u)
SYMBOL res -2720 1024 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL cap -2576 1072 R0
SYMATTR InstName C5
SYMATTR Value 100n
SYMBOL npn -992 16 R0
SYMATTR InstName Q1
SYMBOL res -1040 -128 R0
SYMATTR InstName R10
SYMATTR Value 33k
SYMBOL res -1168 464 R0
SYMATTR InstName R11
SYMATTR Value 1G
SYMBOL res 32 352 R0
SYMATTR InstName R12
SYMATTR Value 1G
TEXT -2904 -360 Left 2 !.tran 500m
TEXT 552 -336 Left 2 !.model SW SW()
TEXT -1936 -488 Left 2 ;1/2 Watt
TEXT -1896 -64 Left 2 ;1/2 Watt
